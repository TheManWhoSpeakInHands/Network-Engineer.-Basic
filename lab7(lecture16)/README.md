# Задание
### [1. Создать сеть согласно топологии.](#1)
### [2. Настроить базовые параметры для маршрутизаторов.](#2)
### [3. Определение корневого моста.](#3)
### [4.	Наблюдение за процессом выбора протоколом STP порта, исходя из стоимости портов.](#4)
### [5. Наблюдение за процессом выбора протоколом STP порта, исходя из приоритета портов.](#5)
### [6. Вопросы для повторения.](#6)

# Решение   
### <a name="1"> 1. Создать сеть согласно топологии.</a>  

<image src="./scheme.PNG" alt="Configuration.">

> Сеть согласно топологии

#### Таблица адресации

| Устройство | Интерфейс | IP-адрес | Маска подсети |
| :----- | :----- | :----- | :----- |
| S1| VLAN 1 | 192.168.1.1 | 255.255.255.0 |
| S2| VLAN 1 | 192.168.1.2 | 255.255.255.0 |
| S3| VLAN 1 | 192.168.1.3 | 255.255.255.0 |
  
### <a name="2"> 2. Настроить базовые параметры для коммутаторов.</a>  
  ```
  enable  
  conf t  
  hostname S(1/2/3)  
  interface vlan 1  
  ip address 192.168.1.(1/2/3) 255.255.255.0  
  no shutdown  
  exit  
  ena passw cisco  
  ena secr class  
  service password-enc  
  banner motd +"Hello! Unauthorized access is forbiden!"+  
  vty 0 15  
  logging synchronous
  password cisco  
  transport input ssh  
  end  
  clock set 20:00:00 Apr 16 2023    
  copy running-config startup-config  
  ping 192.168.1.(1/2/3)  
  ```
  *Type escape sequence to abort.*  
  *Sending 5, 100-byte ICMP Echos to 192.168.1.(1/2/3), timeout is 2 seconds:*  
  *..!!!*  
  *Success rate is 60 percent (3/5), round-trip min/avg/max = 0/1/4 ms*   
  
### <a name="3"> 3. Определение корневого моста.</a>  
   ```
   interface range fastEthernet 0/1-24, gigabitEthernet 0/1-2  
   shutdown  
   interface range fastEthernet 0/1-4  
   switchport mode trunk  
   interface range fastEthernet 0/2, fastEthernet 0/4  
   no shutdown  
   ```
  <image src="./S1-Sp-tree1.PNG" alt="S1-Sp-tree.">   
  <image src="./S2-Sp-tree1.PNG" alt="S2-Sp-tree.">   
  <image src="./S3-Sp-tree1.PNG" alt="S3-Sp-tree.">   
    
  * Какой коммутатор является корневым мостом?  
  > S3  
    
  * Почему этот коммутатор был выбран протоколом spanning-tree в качестве корневого моста?
  > Потому что он имеет наименьшее значение адреса.  
   
  * Какие порты на коммутаторе являются корневыми портами?
  > Fa0/4  
    
  * Какие порты на коммутаторе являются назначенными портами?  
  > S1:Fa0/2  
    
  * Какой порт отображается в качестве альтернативного и в настоящее время заблокирован?  
  > S2:Fa0/2  
    
  * Почему протокол spanning-tree выбрал этот порт в качестве невыделенного (заблокированного) порта?
  > У него максимальное значение BID.    

### <a name="4"> 4.	Наблюдение за процессом выбора протоколом STP порта, исходя из стоимости портов.</a>
  ```
  S2(config)#interface fastEthernet 0/4  
  S2(config-if)#spanning-tree vlan 1 cost 18  
  ```
  <image src="./S1-Sp-tree2.PNG" alt="S1-Sp-tree.">   
  <image src="./S2-Sp-tree2.PNG" alt="S2-Sp-tree.">  
   
  > S2(config-if)#no spanning-tree vlan 1 cost 18  
  * Почему протокол spanning-tree заменяет ранее заблокированный порт на назначенный порт и блокирует порт, который был назначенным портом на другом коммутаторе?  
  > Потому что, сначала пересчитывается стоимость для корневого порта, а затем (на том же узле) ставится назначенный порт.  
    
### <a name="5"> 5. Наблюдение за процессом выбора протоколом STP порта, исходя из приоритета портов./</a>   
   ```
   interface range fastEthernet 0/1, fastEthernet 0/3  
   no shutdown   
   ``` 
   <image src="./S1-Sp-tree3.PNG" alt="S1-Sp-tree.">   
   <image src="./S2-Sp-tree-3.PNG" alt="S2-Sp-tree.">  
      
   * Какой порт выбран протоколом STP в качестве порта корневого моста на каждом коммутаторе некорневого моста?   
   > Fa0/3  
      
   * Почему протокол STP выбрал эти порты в качестве портов корневого моста на этих коммутаторах?   
   > Потому что это порты с меньшим номером, чем 4.  
      
### <a name="6"> 6. Вопросы для повторения.</a>    
   * Какое значение протокол STP использует первым после выбора корневого моста, чтобы определить выбор порта?  
   > Стоимость интерфейса.  
      
   * Если первое значение на двух портах одинаково, какое следующее значение будет использовать протокол STP при выборе порта?  
   > Bridge ID.  
      
   * Если оба значения на двух портах равны, каким будет следующее значение, которое использует протокол STP при выборе порта?  
   > Port ID.  
